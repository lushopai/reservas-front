<!-- Navbar -->
<app-public-navbar></app-public-navbar>

<!-- Hero Section con Material Design -->
<section class="hero-section">
  <div class="hero-container">
    <div class="hero-content">
      <div class="hero-text">
        <h1 class="hero-title">
          Bienvenido a Cabañas & Servicios
        </h1>
        <p class="hero-subtitle">
          Descubre el lugar perfecto para tu descanso. Cabañas acogedoras y servicios premium para una experiencia inolvidable.
        </p>
        <div class="hero-actions">
          <button mat-raised-button color="primary" class="hero-button-primary" (click)="verCabanas()">
            <mat-icon>holiday_village</mat-icon>
            Ver Cabañas
          </button>
          <button mat-stroked-button color="primary" class="hero-button-secondary" (click)="scrollToSection('servicios')">
            <mat-icon>stars</mat-icon>
            Explorar Servicios
          </button>
        </div>
      </div>
      <div class="hero-icon">
        <mat-icon class="hero-icon-large">cottage</mat-icon>
      </div>
    </div>
  </div>
</section>

<!-- Features Section -->
<section class="features-section">
  <div class="section-container">
    <div class="section-header">
      <h2 class="section-title">¿Por qué elegirnos?</h2>
      <p class="section-subtitle">Ofrecemos la mejor experiencia para tus vacaciones</p>
    </div>

    <div class="features-grid">
      <mat-card *ngFor="let feature of features" class="feature-card" matRipple>
        <mat-card-content class="feature-content">
          <div class="feature-icon-container">
            <mat-icon class="feature-icon" [color]="'primary'">{{ feature.icon }}</mat-icon>
          </div>
          <h3 class="feature-title">{{ feature.title }}</h3>
          <p class="feature-description">{{ feature.description }}</p>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</section>

<!-- Cabañas Destacadas -->
<section class="cabanas-section" id="cabanas">
  <div class="section-container">
    <div class="section-header-with-action">
      <div>
        <h2 class="section-title">Nuestras Cabañas</h2>
        <p class="section-subtitle">Encuentra el lugar perfecto para tu estadía</p>
      </div>
      <button mat-raised-button color="primary" (click)="verCabanas()">
        Ver Todas
        <mat-icon>arrow_forward</mat-icon>
      </button>
    </div>

    <!-- Loading Spinner -->
    <div *ngIf="cargando" class="loading-container">
      <mat-spinner diameter="60"></mat-spinner>
      <p class="loading-text">Cargando cabañas...</p>
    </div>

    <!-- Cards Grid -->
    <div class="cards-grid" *ngIf="!cargando && cabanasDestacadas.length > 0">
      <mat-card *ngFor="let cabana of cabanasDestacadas" class="resource-card" matRipple>
        <!-- Imagen -->
        <div class="card-image-container">
          <img *ngIf="obtenerImagenPrincipal(cabana)"
               [src]="obtenerImagenPrincipal(cabana)"
               [alt]="cabana.nombre"
               class="card-image">
          <div *ngIf="!obtenerImagenPrincipal(cabana)" class="card-image-placeholder">
            <mat-icon class="placeholder-icon">cottage</mat-icon>
          </div>
          <mat-chip class="status-badge" color="accent">Disponible</mat-chip>
        </div>

        <mat-card-content class="card-content">
          <div class="card-header">
            <h3 class="card-title">{{ cabana.nombre }}</h3>
          </div>
          <p class="card-description">{{ cabana.descripcion || 'Cabaña confortable y equipada' }}</p>

          <div class="card-info">
            <div class="info-item">
              <mat-icon class="info-icon">people</mat-icon>
              <span class="info-text">{{ cabana.capacidadPersonas }} personas</span>
            </div>
            <div class="card-price">
              ${{ cabana.precioPorUnidad | number }} <span class="price-unit">/noche</span>
            </div>
          </div>
        </mat-card-content>

        <mat-card-actions class="card-actions">
          <button mat-stroked-button color="primary" class="action-button" (click)="verCabanas()">
            Ver Detalles
          </button>
        </mat-card-actions>
      </mat-card>
    </div>

    <!-- Empty State -->
    <div *ngIf="!cargando && cabanasDestacadas.length === 0" class="empty-state">
      <mat-icon class="empty-icon">cottage</mat-icon>
      <p class="empty-text">No hay cabañas disponibles en este momento</p>
    </div>
  </div>
</section>

<!-- Servicios Destacados -->
<section class="servicios-section" id="servicios">
  <div class="section-container">
    <div class="section-header-with-action">
      <div>
        <h2 class="section-title">Servicios Premium</h2>
        <p class="section-subtitle">Complementa tu estadía con actividades increíbles</p>
      </div>
      <button mat-raised-button color="primary" (click)="verServicios()">
        Ver Todos
        <mat-icon>arrow_forward</mat-icon>
      </button>
    </div>

    <!-- Loading Spinner -->
    <div *ngIf="cargando" class="loading-container">
      <mat-spinner diameter="60"></mat-spinner>
      <p class="loading-text">Cargando servicios...</p>
    </div>

    <!-- Cards Grid -->
    <div class="cards-grid" *ngIf="!cargando && serviciosDestacados.length > 0">
      <mat-card *ngFor="let servicio of serviciosDestacados" class="resource-card" matRipple>
        <!-- Imagen -->
        <div class="card-image-container">
          <img *ngIf="obtenerImagenPrincipal(servicio)"
               [src]="obtenerImagenPrincipal(servicio)"
               [alt]="servicio.nombre"
               class="card-image">
          <div *ngIf="!obtenerImagenPrincipal(servicio)" class="card-image-placeholder">
            <mat-icon class="placeholder-icon service-icon">stars</mat-icon>
          </div>
          <mat-icon class="favorite-icon" color="warn">star</mat-icon>
        </div>

        <mat-card-content class="card-content">
          <div class="card-header">
            <h3 class="card-title">{{ servicio.nombre }}</h3>
          </div>
          <p class="card-description">{{ servicio.descripcion || 'Servicio de primera calidad' }}</p>

          <div class="card-info">
            <div class="info-item">
              <mat-icon class="info-icon">schedule</mat-icon>
              <span class="info-text">{{ servicio.duracionBloqueMinutos || 60 }} min</span>
            </div>
            <div class="card-price">
              ${{ servicio.precioPorUnidad | number }}
            </div>
          </div>
        </mat-card-content>

        <mat-card-actions class="card-actions">
          <button mat-stroked-button color="primary" class="action-button" (click)="verServicios()">
            Ver Detalles
          </button>
        </mat-card-actions>
      </mat-card>
    </div>

    <!-- Empty State -->
    <div *ngIf="!cargando && serviciosDestacados.length === 0" class="empty-state">
      <mat-icon class="empty-icon">stars</mat-icon>
      <p class="empty-text">No hay servicios disponibles en este momento</p>
    </div>
  </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
  <div class="cta-container">
    <h2 class="cta-title">¿Listo para tu próxima aventura?</h2>
    <p class="cta-subtitle">Regístrate ahora y comienza a explorar nuestras increíbles opciones</p>
    <button mat-raised-button color="accent" class="cta-button" routerLink="/registro">
      <mat-icon>person_add</mat-icon>
      Crear Cuenta Gratis
    </button>
  </div>
</section>

<!-- Footer -->
<footer class="footer">
  <div class="footer-container">
    <p class="footer-text">© 2025 Cabañas & Servicios. Todos los derechos reservados.</p>
  </div>
</footer>
