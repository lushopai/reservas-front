<div class="login-container">
  <div class="login-content">
    <!-- Card de Login -->
    <mat-card class="login-card">
      <!-- Header -->
      <mat-card-header class="login-header">
        <div class="header-content">
          <mat-icon class="header-icon">cottage</mat-icon>
          <div class="header-text">
            <h1 class="header-title">Sistema de Reservas</h1>
            <p class="header-subtitle">Cabañas y Servicios</p>
          </div>
        </div>
      </mat-card-header>

      <!-- Body -->
      <mat-card-content class="login-body">
        <h2 class="form-title">Iniciar Sesión</h2>

        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
          <!-- Username -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Username</mat-label>
            <mat-icon matPrefix>person</mat-icon>
            <input
              matInput
              type="text"
              formControlName="username"
              placeholder="Ingresa tu username">
            <mat-error *ngIf="f['username'].hasError('required')">
              El username es obligatorio
            </mat-error>
          </mat-form-field>

          <!-- Password -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Contraseña</mat-label>
            <mat-icon matPrefix>lock</mat-icon>
            <input
              matInput
              [type]="showPassword ? 'text' : 'password'"
              formControlName="password"
              placeholder="Ingresa tu contraseña"
              autocomplete="current-password">
            <button
              mat-icon-button
              matSuffix
              type="button"
              (click)="togglePassword()"
              [attr.aria-label]="'Mostrar contraseña'"
              [attr.aria-pressed]="showPassword">
              <mat-icon>{{ showPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
            </button>
            <mat-error *ngIf="f['password'].hasError('required')">
              La contraseña es obligatoria
            </mat-error>
            <mat-error *ngIf="f['password'].hasError('minlength')">
              La contraseña debe tener al menos 6 caracteres
            </mat-error>
          </mat-form-field>

          <!-- Remember Me & Forgot Password -->
          <div class="login-options">
            <mat-checkbox formControlName="rememberMe">
              Recordarme
            </mat-checkbox>
            <a href="#" class="forgot-password">
              ¿Olvidaste tu contraseña?
            </a>
          </div>

          <!-- Botón Login -->
          <button
            mat-raised-button
            color="primary"
            type="submit"
            class="login-button"
            [disabled]="loading || loginForm.invalid">
            <ng-container *ngIf="!loading">
              <mat-icon>login</mat-icon>
              Iniciar Sesión
            </ng-container>
            <ng-container *ngIf="loading">
              <mat-spinner diameter="20" class="button-spinner"></mat-spinner>
              Procesando...
            </ng-container>
          </button>
        </form>
      </mat-card-content>

      <mat-divider></mat-divider>

      <!-- Footer -->
      <mat-card-actions class="login-footer">
        <p class="register-text">
          ¿No tienes cuenta?
          <a href="javascript:void(0)" (click)="goToRegister()" class="register-link">
            Regístrate aquí
          </a>
        </p>
      </mat-card-actions>
    </mat-card>

  </div>
</div>
